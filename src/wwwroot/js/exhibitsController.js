webpackJsonp([5],{

/***/ 5:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ExhibitController =\n/*#__PURE__*/\nfunction () {\n  function ExhibitController(attendanceService) {\n    _classCallCheck(this, ExhibitController);\n\n    this.attendanceService = attendanceService;\n    this.button = null;\n  }\n\n  _createClass(ExhibitController, [{\n    key: \"init\",\n    value: function init(container) {\n      return $(container).on('click', '.js-toggle-attendance', this.toggleAttendance.bind(this));\n    }\n  }, {\n    key: \"toggleAttendance\",\n    value: function toggleAttendance(e) {\n      this.button = $(e.target);\n      var exhibitId = this.button.attr('data-exhibit-id');\n      if (this.button.hasClass('btn-secondary')) return this.attendanceService.createAttendance(exhibitId, this.done.bind(this), this.fail.bind(this));else return this.attendanceService.deleteAttendance(exhibitId, this.done.bind(this), this.fail.bind(this));\n    }\n  }, {\n    key: \"done\",\n    value: function done() {\n      var text = this.button.text() == 'Going' ? 'Going?' : 'Going';\n      return this.button.toggleClass('btn-info').toggleClass('btn-secondary').text(text);\n    }\n  }, {\n    key: \"fail\",\n    value: function fail() {\n      return alert('Something failed');\n    }\n  }]);\n\n  return ExhibitController;\n}();\n\nexports.default = ExhibitController;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9FeGhpYml0cy9leGhpYml0c0NvbnRyb2xsZXIuanM/NzE5OCJdLCJuYW1lcyI6WyJFeGhpYml0Q29udHJvbGxlciIsImF0dGVuZGFuY2VTZXJ2aWNlIiwiYnV0dG9uIiwiY29udGFpbmVyIiwiJCIsIm9uIiwidG9nZ2xlQXR0ZW5kYW5jZSIsImJpbmQiLCJlIiwidGFyZ2V0IiwiZXhoaWJpdElkIiwiYXR0ciIsImhhc0NsYXNzIiwiY3JlYXRlQXR0ZW5kYW5jZSIsImRvbmUiLCJmYWlsIiwiZGVsZXRlQXR0ZW5kYW5jZSIsInRleHQiLCJ0b2dnbGVDbGFzcyIsImFsZXJ0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0lBQXFCQSxpQjs7O0FBRW5CLDZCQUFZQyxpQkFBWixFQUErQjtBQUFBOztBQUM3QixTQUFLQSxpQkFBTCxHQUF5QkEsaUJBQXpCO0FBQ0EsU0FBS0MsTUFBTCxHQUFjLElBQWQ7QUFDRDs7Ozt5QkFFSUMsUyxFQUFXO0FBQ2QsYUFBT0MsRUFBRUQsU0FBRixFQUFhRSxFQUFiLENBQ0wsT0FESyxFQUVMLHVCQUZLLEVBR0wsS0FBS0MsZ0JBQUwsQ0FBc0JDLElBQXRCLENBQTJCLElBQTNCLENBSEssQ0FBUDtBQUtEOzs7cUNBRWdCQyxDLEVBQUc7QUFDbEIsV0FBS04sTUFBTCxHQUFjRSxFQUFFSSxFQUFFQyxNQUFKLENBQWQ7QUFDQSxVQUFNQyxZQUFZLEtBQUtSLE1BQUwsQ0FBWVMsSUFBWixDQUFpQixpQkFBakIsQ0FBbEI7QUFDQSxVQUFJLEtBQUtULE1BQUwsQ0FBWVUsUUFBWixDQUFxQixlQUFyQixDQUFKLEVBQ0UsT0FBTyxLQUFLWCxpQkFBTCxDQUF1QlksZ0JBQXZCLENBQ0xILFNBREssRUFFTCxLQUFLSSxJQUFMLENBQVVQLElBQVYsQ0FBZSxJQUFmLENBRkssRUFHTCxLQUFLUSxJQUFMLENBQVVSLElBQVYsQ0FBZSxJQUFmLENBSEssQ0FBUCxDQURGLEtBT0UsT0FBTyxLQUFLTixpQkFBTCxDQUF1QmUsZ0JBQXZCLENBQ0xOLFNBREssRUFFTCxLQUFLSSxJQUFMLENBQVVQLElBQVYsQ0FBZSxJQUFmLENBRkssRUFHTCxLQUFLUSxJQUFMLENBQVVSLElBQVYsQ0FBZSxJQUFmLENBSEssQ0FBUDtBQUtIOzs7MkJBRU07QUFDTCxVQUFNVSxPQUFPLEtBQUtmLE1BQUwsQ0FBWWUsSUFBWixNQUFzQixPQUF0QixHQUFnQyxRQUFoQyxHQUEyQyxPQUF4RDtBQUNBLGFBQU8sS0FBS2YsTUFBTCxDQUNKZ0IsV0FESSxDQUNRLFVBRFIsRUFFSkEsV0FGSSxDQUVRLGVBRlIsRUFHSkQsSUFISSxDQUdDQSxJQUhELENBQVA7QUFJRDs7OzJCQUVNO0FBQ0wsYUFBT0UsTUFBTSxrQkFBTixDQUFQO0FBQ0QiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4aGliaXRDb250cm9sbGVyIHtcblxuICBjb25zdHJ1Y3RvcihhdHRlbmRhbmNlU2VydmljZSkge1xuICAgIHRoaXMuYXR0ZW5kYW5jZVNlcnZpY2UgPSBhdHRlbmRhbmNlU2VydmljZTtcbiAgICB0aGlzLmJ1dHRvbiA9IG51bGw7XG4gIH1cblxuICBpbml0KGNvbnRhaW5lcikge1xuICAgIHJldHVybiAkKGNvbnRhaW5lcikub24oXG4gICAgICAnY2xpY2snLFxuICAgICAgJy5qcy10b2dnbGUtYXR0ZW5kYW5jZScsXG4gICAgICB0aGlzLnRvZ2dsZUF0dGVuZGFuY2UuYmluZCh0aGlzKVxuICAgICk7XG4gIH1cblxuICB0b2dnbGVBdHRlbmRhbmNlKGUpIHtcbiAgICB0aGlzLmJ1dHRvbiA9ICQoZS50YXJnZXQpO1xuICAgIGNvbnN0IGV4aGliaXRJZCA9IHRoaXMuYnV0dG9uLmF0dHIoJ2RhdGEtZXhoaWJpdC1pZCcpO1xuICAgIGlmICh0aGlzLmJ1dHRvbi5oYXNDbGFzcygnYnRuLXNlY29uZGFyeScpKVxuICAgICAgcmV0dXJuIHRoaXMuYXR0ZW5kYW5jZVNlcnZpY2UuY3JlYXRlQXR0ZW5kYW5jZShcbiAgICAgICAgZXhoaWJpdElkLFxuICAgICAgICB0aGlzLmRvbmUuYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy5mYWlsLmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIHRoaXMuYXR0ZW5kYW5jZVNlcnZpY2UuZGVsZXRlQXR0ZW5kYW5jZShcbiAgICAgICAgZXhoaWJpdElkLFxuICAgICAgICB0aGlzLmRvbmUuYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy5mYWlsLmJpbmQodGhpcylcbiAgICAgICk7XG4gIH1cblxuICBkb25lKCkge1xuICAgIGNvbnN0IHRleHQgPSB0aGlzLmJ1dHRvbi50ZXh0KCkgPT0gJ0dvaW5nJyA/ICdHb2luZz8nIDogJ0dvaW5nJztcbiAgICByZXR1cm4gdGhpcy5idXR0b25cbiAgICAgIC50b2dnbGVDbGFzcygnYnRuLWluZm8nKVxuICAgICAgLnRvZ2dsZUNsYXNzKCdidG4tc2Vjb25kYXJ5JylcbiAgICAgIC50ZXh0KHRleHQpO1xuICB9XG5cbiAgZmFpbCgpIHtcbiAgICByZXR1cm4gYWxlcnQoJ1NvbWV0aGluZyBmYWlsZWQnKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vRXhoaWJpdHMvZXhoaWJpdHNDb250cm9sbGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ })

},[5]);